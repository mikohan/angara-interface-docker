(this["webpackJsonpvasya-interface"]=this["webpackJsonpvasya-interface"]||[]).push([[0],{122:function(e,t,a){},123:function(e,t,a){},153:function(e,t,a){"use strict";a.r(t);var n=a(3),r=a(0),c=a.n(r),o=a(11),s=a.n(o),i=(a(122),a(123),a(195)),l=a(220),u=a(197),d=a(199),j=a(201),O=a(202),b=a(200),h=a(94),p=a.n(h),x=a(57),_=Object(i.a)((function(e){return Object(l.a)({root:{flexGrow:1},menuButton:{marginRight:e.spacing(2)},title:{flexGrow:1}})}));function f(){var e=_();return Object(n.jsx)("div",{className:e.root,children:Object(n.jsx)(u.a,{position:"static",children:Object(n.jsxs)(d.a,{children:[Object(n.jsx)(b.a,{edge:"start",className:e.menuButton,color:"inherit","aria-label":"menu",children:Object(n.jsx)(p.a,{})}),Object(n.jsx)(j.a,{variant:"h6",className:e.title,children:Object(n.jsx)(x.b,{to:"".concat("","/"),children:"Home"})}),Object(n.jsx)(x.b,{to:"".concat("","/testpage/"),children:Object(n.jsx)(O.a,{color:"inherit",children:"READY ROWS"})})]})})})}var E,R=a(68),v=a(59),m=a(9),T=a(212),g=a(21),S=a(210),w=a(19),D=a.n(w),y=a(37);!function(e){e.FETCH_ROWS_IN_WORK="FETCH_ROWS_IN_WORK",e.FETCH_ROWS_READY="FETCH_ROWS_READY",e.ADD_EMPTY_ROW="ADD_EMPTY_ROW",e.DELETE_ROW="DELETE_ROW",e.MARK_ROW_READY="MARK_ROW_READY",e.MARK_ROW_UNREADY="MARK_ROW_UNREADY",e.SAVE_ROW_TO_SERVER="SAVE_ROW_TO_SERVER",e.SET_ONE_C_ID="SET_ONE_C_ID",e.TOGGLE_DONE="TOGGLE_DONE",e.FETCH_DATA_A77="FETCH_DATA_A77",e.SET_ERROR_MESSAGE="SET_ERROR_MESSAGE",e.TOGGLE_SNACKBAR="TOGGLE_SNACKBAR",e.IS_LOADING="IS_LOADING",e.UPDATE_ROWS_ATTRS="UPDATE_ROWS_ATTRS",e.SAVE_DESCRIPTION_TO_SERVER="SAVE_DESCRIPTION_TO_SERVER",e.CHANGE_DESCRIPTION="CHANGE_DESCRIPTION",e.PUT_ROW_TO_SERVER="PUT_ROW_TO_SERVER",e.UPDATE_ROWS_READY_ATTRS="UPDATE_ROWS_READY_ATTRS"}(E||(E={}));var I="local"==="remote"?{fetchRowsUrl:"http://localhost:8000/vasyainterface/workingrows/rows/",fetchRowsDoneUrl:"http://localhost:8000/vasyainterface/workingrows/rowsdone/",angaraUrl:"http://angara77.com/admin33338/dataApi/vasyaInterfaceEndpoint.php?oneCId=",checkProductUrl:"https://partshub.tk/vasyainterface/check",deleteUrl:"http://localhost:8000/vasyainterface/workingrows/rows"}:{fetchRowsUrl:"https://partshub.tk/vasyainterface/workingrows/rows/",fetchRowsDoneUrl:"https://partshub.tk/vasyainterface/workingrows/rowsdone/",angaraUrl:"http://angara77.com/admin33338/dataApi/vasyaInterfaceEndpoint.php?oneCId=",checkProductUrl:"https://partshub.tk/vasyainterface/check",deleteUrl:"https://partshub.tk/vasyainterface/workingrows/rows"},k=a(215),A=a(31),W=a.n(A),N=function(e){return{type:E.DELETE_ROW,payload:e}},C=function(e){return function(){var t=Object(y.a)(D.a.mark((function t(a){var n,r,c,o,s,i,l,u,d,j,O,b,h;return D.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a(L(!0)),t.next=3,W.a.get("".concat(I.angaraUrl).concat(e));case 3:return n=t.sent,t.next=6,n.data;case 6:return r=t.sent,o={have_photo:!1,have_video:!1,have_description:!1,have_attribute:!1,have_photo_in_folder:!1},s={id:r.id,uuid:Object(k.a)(),oneCId:e,name:r.ang_name,brand:r.brand,catNumber:r.cat,photo:!1,video:!1,description:"",isDone:!1},t.prev=10,t.next=13,W.a.get("".concat(I.checkProductUrl,"/").concat(e,"/"));case 13:i=t.sent,o=i.data,t.next=22;break;case 17:t.prev=17,t.t0=t.catch(10),a(P({Error:"\u041f\u0440\u043e\u0434\u0443\u043a\u0442 \u0441 \u0442\u0430\u043a\u0438\u043c \u041e\u0434\u0438\u043d \u0421 ID \u0415\u0449\u0435 \u043d\u0435 \u0437\u0430\u0432\u0435\u0434\u0435\u043d \u0432 \u0438\u0442\u0435\u0440\u0444\u0435\u0439\u0441. \u0421\u0430\u043c\u043e\u0435 \u0432\u0440\u0435\u043c\u044f \u0435\u0433\u043e \u0442\u0443\u0434\u0430 \u0437\u0430\u0432\u0435\u0441\u0442\u0438!"})),a(U(!0)),console.log(t.t0.response.data);case 22:return c=Object(m.a)({},s),u=(l=o).have_photo,d=l.have_video,j=l.have_description,O=l.have_attribute,b=l.have_photo_in_folder,o&&(c.photo=b,c.photoSite=u,c.video=d,c.descSite=j,c.attibute=O,c.linkToSite="https://angara77.com/porter-0520000611-".concat(e,"/")),t.prev=25,t.next=28,W.a.post(I.fetchRowsUrl,s);case 28:a((p=c,{type:E.ADD_EMPTY_ROW,payload:p})),t.next=34;break;case 31:t.prev=31,t.t1=t.catch(25),t.t1.response&&(h=null,h=t.t1.response.data.hasOwnProperty("name")?{error:"\u0412\u043e\u0437\u043c\u043e\u0436\u043d\u043e \u044d\u0442\u043e\u0442 \u0442\u043e\u0432\u0430\u0440 \u043d\u0435 \u0432\u044b\u0433\u0440\u0443\u0436\u0430\u0435\u0442\u0441\u044f \u0438\u0437 \u041e\u0434\u0438\u043d \u042d\u0441\u043a\u0438 \u043d\u0430 \u0441\u0430\u0439\u0442. \u041f\u0440\u043e\u0432\u0435\u0440\u044c!"}:t.t1.response.data,a(P(h)),a(U(!0)),console.log(t.t1.response.data));case 34:a(L(!1));case 35:case"end":return t.stop()}var p}),t,null,[[10,17],[25,31]])})));return function(e){return t.apply(this,arguments)}}()},P=function(e){return{type:E.SET_ERROR_MESSAGE,payload:e}},U=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return{type:E.TOGGLE_SNACKBAR,payload:e}},G=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return function(){var t=Object(y.a)(D.a.mark((function t(a,n){var r,c,o,s,i;return D.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a(L(!0)),r=n(),c=r.mainState,!((o=e?c.rowsReady:c.rowsInWork).length>0)){t.next=10;break}return s={have_photo:!1,have_video:!1,have_description:!1,have_attribute:!1,have_photo_in_folder:!1},t.next=7,Promise.all(o.map(function(){var e=Object(y.a)(D.a.mark((function e(t){var n,r,c,o,i,l,u;return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,W.a.get("".concat(I.checkProductUrl,"/").concat(t.oneCId,"/"));case 3:n=e.sent,s=n.data,e.next=12;break;case 7:e.prev=7,e.t0=e.catch(0),a(P({Error:"\u041f\u0440\u043e\u0434\u0443\u043a\u0442 \u0441 \u0442\u0430\u043a\u0438\u043c \u041e\u0434\u0438\u043d \u0421 ID \u0415\u0449\u0435 \u043d\u0435 \u0437\u0430\u0432\u0435\u0434\u0435\u043d \u0432 \u0438\u0442\u0435\u0440\u0444\u0435\u0439\u0441. \u0421\u0430\u043c\u043e\u0435 \u0432\u0440\u0435\u043c\u044f \u0435\u0433\u043e \u0442\u0443\u0434\u0430 \u0437\u0430\u0432\u0435\u0441\u0442\u0438!"})),a(U(!0)),console.log(e.t0.response.data);case 12:return c=(r=s).have_photo,o=r.have_video,i=r.have_description,l=r.have_attribute,u=r.have_photo_in_folder,s&&(t.photo=u,t.photoSite=c,t.video=o,t.descSite=i,t.attibute=l,t.linkToSite="https://angara77.com/porter-0520000611-".concat(t.oneCId,"/")),e.abrupt("return",t);case 15:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()));case 7:i=t.sent,a(e?{type:E.UPDATE_ROWS_READY_ATTRS,payload:i}:{type:E.UPDATE_ROWS_ATTRS,payload:i}),a(L(!1));case 10:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}()},L=function(e){return{type:E.IS_LOADING,payload:e}},F=function(e){return function(){var t=Object(y.a)(D.a.mark((function t(a){var n;return D.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,W.a.put("".concat(I.fetchRowsUrl).concat(e.id,"/"),e);case 2:n=t.sent,a({type:E.PUT_ROW_TO_SERVER,payload:n.data}),a(G());case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},Y=a(102),H=a.n(Y),M=a(211),K=a(218),V=a(214),B=a(203),J=Object(i.a)((function(e){return Object(l.a)({root:{display:"flex","& > * + *":{marginLeft:e.spacing(2)}}})}));function z(){var e=J();return Object(n.jsx)("div",{className:e.root,children:Object(n.jsx)(B.a,{})})}var q=a(207),Q=a(209),X=a(205),Z=a(206),$=a(208),ee=a(204),te=a(155),ae=a(101),ne=a.n(ae),re=a(216),ce=a(60),oe=a.n(ce),se=a(61),ie=a.n(se),le=a(97),ue=a.n(le),de=a(98),je=a.n(de),Oe=a(99),be=a.n(Oe),he=a(100),pe=a.n(he),xe=ue.a[700],_e=je.a[300],fe=be.a[700],Ee=Object(i.a)((function(e){return Object(l.a)({muttedText:{color:_e,textDecoration:"line-trought"},greenText:{color:xe},redText:{color:fe}})}));function Re(e){var t=e.myRow,a=e.ready,o=Ee(),s=Object(g.b)(),i=Object(r.useState)(t.description),l=Object(v.a)(i,2),u=l[0],d=l[1],j=c.a.useState(t.isDone||!1),O=Object(v.a)(j,2),b=O[0],h=O[1],p=function(e,t){window.confirm("Are You Shure?")&&s(function(e,t){return function(){var a=Object(y.a)(D.a.mark((function a(n){return D.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,W.a.delete("".concat(I.deleteUrl,"/").concat(t,"/"));case 3:a.next=8;break;case 5:a.prev=5,a.t0=a.catch(0),console.log(a.t0);case 8:n(N(e));case 9:case"end":return a.stop()}}),a,null,[[0,5]])})));return function(e){return a.apply(this,arguments)}}()}(e,t))},x=Object(n.jsx)(re.a,{checked:b,onChange:function(e){var a,n;h(e.target.checked),s((a=t,n=e.target.checked,{type:E.TOGGLE_DONE,payload:a,isDone:n})),s(F(t))},color:"primary",inputProps:{"aria-label":"secondary checkbox"}});return Object(n.jsx)(c.a.Fragment,{children:Object(n.jsxs)(ee.a,{children:[Object(n.jsx)(X.a,{className:t.isDone?o.muttedText:"",children:!a&&x}),Object(n.jsx)(X.a,{className:t.isDone?o.muttedText:"",children:t.oneCId}),Object(n.jsx)(X.a,{className:t.isDone?o.muttedText:"",component:"th",scope:"row",children:t.name}),Object(n.jsx)(X.a,{className:t.isDone?o.muttedText:"",align:"right",children:t.brand}),Object(n.jsx)(X.a,{className:t.isDone?o.muttedText:"",align:"right",children:t.catNumber}),Object(n.jsx)(X.a,{className:t.isDone?o.muttedText:"",align:"right",children:t.photo?Object(n.jsx)(oe.a,{className:t.isDone?o.muttedText:o.greenText}):Object(n.jsx)(ie.a,{className:t.isDone?o.muttedText:o.redText})}),Object(n.jsx)(X.a,{className:t.isDone?o.muttedText:"",align:"right",children:t.photoSite?Object(n.jsx)(oe.a,{className:t.isDone?o.muttedText:o.greenText}):Object(n.jsx)(ie.a,{className:t.isDone?o.muttedText:o.redText})}),Object(n.jsx)(X.a,{align:"right",children:t.video?Object(n.jsx)(oe.a,{className:t.isDone?o.muttedText:o.greenText}):Object(n.jsx)(ie.a,{className:t.isDone?o.muttedText:o.redText})}),Object(n.jsx)(X.a,{align:"right",children:t.attibute?Object(n.jsx)(oe.a,{className:t.isDone?o.muttedText:o.greenText}):Object(n.jsx)(ie.a,{className:t.isDone?o.muttedText:o.redText})}),Object(n.jsx)(X.a,{style:{minWidth:"200px"},align:"right",children:Object(n.jsx)(T.a,{id:"standard-basic",label:"\u0417\u0430\u043c\u0435\u0442\u043a\u0438",multiline:!0,onChange:function(e){var a,n;d(e.target.value),s((a=t.uuid,n=u,{type:E.CHANGE_DESCRIPTION,payload:a,description:n}))},onBlur:function(){s(F(t))},value:u})}),Object(n.jsx)(X.a,{align:"right",children:Object(n.jsx)("a",{className:t.isDone?o.muttedText:"",href:t.linkToSite,target:"_blank",rel:"noreferrer",children:Object(n.jsx)(pe.a,{color:"primary"})})}),Object(n.jsx)(X.a,{children:Object(n.jsx)(ne.a,{className:t.isDone?o.muttedText:"",onClick:function(){return p(t.uuid,t.id)},color:"secondary"})})]})})}var ve=Object(i.a)((function(e){return Object(l.a)({table:{minWidth:650},topRowNumber:{padding:e.spacing(2)}})}));function me(e){var t=e.rowsInWork,a=e.ready,r=ve();return Object(n.jsx)(Z.a,{component:te.a,children:Object(n.jsxs)(q.a,{className:r.table,"aria-label":"simple table",children:[Object(n.jsx)($.a,{children:Object(n.jsxs)(ee.a,{children:[Object(n.jsx)(X.a,{children:"Done"}),Object(n.jsx)(X.a,{children:"OneCId"}),Object(n.jsx)(X.a,{children:"Name"}),Object(n.jsx)(X.a,{align:"right",children:"Brand"}),Object(n.jsx)(X.a,{align:"right",children:"Cat"}),Object(n.jsx)(X.a,{align:"right",children:"Photo Fold"}),Object(n.jsx)(X.a,{align:"right",children:"Photo Site"}),Object(n.jsx)(X.a,{align:"right",children:"Video"}),Object(n.jsx)(X.a,{align:"right",children:"Attr"}),Object(n.jsx)(X.a,{align:"right",children:"Notes"}),Object(n.jsx)(X.a,{align:"right",children:"To Site"}),Object(n.jsx)(X.a,{align:"right",children:"Del"})]})}),Object(n.jsx)(Q.a,{children:t.map((function(e){return Object(n.jsx)(Re,{myRow:e,ready:a},e.uuid)}))})]})})}function Te(e){return Object(n.jsx)(V.a,Object(m.a)({elevation:6,variant:"filled"},e))}function ge(){var e=Object(g.b)(),t=Object(g.c)((function(e){return e.mainState.errorMessage})),a=Object(g.c)((function(e){return e.mainState})).openSnakbar,o=function(t,a){"clickaway"!==a&&e(U(!1))},s=Object(r.useState)(0),i=Object(v.a)(s,2),l=i[0],u=i[1];Object(r.useEffect)((function(){e(function(){var e=Object(y.a)(D.a.mark((function e(t){var a;return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,W.a.get(I.fetchRowsUrl);case 2:a=e.sent,t({type:E.FETCH_ROWS_IN_WORK,payload:a.data}),t(G()),t(L(!1));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}),[e]);var d=Object(g.c)((function(e){return e.mainState.rowsInWork})),b=[];for(var h in t)b.push(JSON.stringify(Object(R.a)({},h,t[h])));var p=Object(g.c)((function(e){return e.mainState.isLoading}));return Object(n.jsxs)(c.a.Fragment,{children:[Object(n.jsxs)(S.a,{container:!0,spacing:2,children:[Object(n.jsx)(S.a,{item:!0,xs:2,children:Object(n.jsx)(T.a,{label:"1C ID",variant:"outlined",value:l,onChange:function(e){var t=parseInt(e.target.value),a=isNaN(t)?0:t;u(a)},size:"small",fullWidth:!0,onKeyDown:function(t){"Enter"===t.key&&e(C(l))}})}),Object(n.jsx)(S.a,{item:!0,xs:2,children:Object(n.jsx)(M.a,{type:"submit",onClick:function(){e(C(l)),e(G()),u(0)},color:"primary",size:"small","aria-label":"add",children:Object(n.jsx)(H.a,{})})}),Object(n.jsx)(S.a,{item:!0,xs:2,children:Object(n.jsxs)(j.a,{variant:"h6",children:["One C ID: ",l]})}),Object(n.jsx)(S.a,{item:!0,xs:6,children:p?Object(n.jsx)(z,{}):Object(n.jsx)(O.a,{onClick:function(){e(G())},variant:"outlined",color:"primary",children:"UPDATE INFO"})}),Object(n.jsx)(S.a,{item:!0,xs:12,children:Object(n.jsx)(me,{rowsInWork:d})})]}),Object(n.jsx)(K.a,{open:a,autoHideDuration:16e3,onClose:o,children:Object(n.jsx)(Te,{onClose:o,severity:"warning",children:b.map((function(e,t){return Object(n.jsx)("div",{children:e},t)}))})})]})}var Se=a(15),we=Object(i.a)((function(e){return Object(l.a)({table:{minWidth:650},topRowNumber:{padding:e.spacing(2)}})}));function De(){we();var e=Object(g.b)();Object(r.useEffect)((function(){e(function(){var e=Object(y.a)(D.a.mark((function e(t){var a;return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,W.a.get(I.fetchRowsDoneUrl);case 2:a=e.sent,t({type:E.FETCH_ROWS_READY,payload:a.data}),t(G(!0)),t(L(!1));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}),[e]);var t=Object(g.c)((function(e){return e.mainState.rowsReady}));return Object(n.jsx)(c.a.Fragment,{children:Object(n.jsxs)(S.a,{container:!0,spacing:2,children:[Object(n.jsx)(S.a,{item:!0,xs:2,children:Object(n.jsx)(j.a,{variant:"h6",children:"Some text"})}),Object(n.jsx)(S.a,{item:!0,xs:12,children:Object(n.jsx)(me,{rowsInWork:t,ready:!0})})]})})}var ye=a(213);var Ie=function(){return Object(n.jsx)(x.a,{basename:"/react/",children:Object(n.jsxs)("div",{children:[Object(n.jsx)(f,{}),Object(n.jsx)(ye.a,{className:"containerBox",children:Object(n.jsxs)(Se.c,{children:[Object(n.jsx)(Se.a,{path:"/testpage/",component:De}),Object(n.jsx)(Se.a,{path:"/",component:ge})]})})]})})},ke=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,221)).then((function(t){var a=t.getCLS,n=t.getFID,r=t.getFCP,c=t.getLCP,o=t.getTTFB;a(e),n(e),r(e),c(e),o(e)}))},Ae=a(33),We=a(103),Ne=a(104),Ce=a(52),Pe={rowsInWork:[],rowsReady:[],errorMessage:null,openSnakbar:!1,isLoading:!1},Ue=Object(Ae.combineReducers)({mainState:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Pe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case E.FETCH_ROWS_IN_WORK:return Object(m.a)(Object(m.a)({},e),{},{rowsInWork:t.payload});case E.FETCH_ROWS_READY:return Object(m.a)(Object(m.a)({},e),{},{rowsReady:t.payload});case E.ADD_EMPTY_ROW:return Object(m.a)(Object(m.a)({},e),{},{rowsInWork:[].concat(Object(Ce.a)(e.rowsInWork),[t.payload])});case E.DELETE_ROW:return Object(m.a)(Object(m.a)({},e),{},{rowsInWork:e.rowsInWork.filter((function(e){return e.uuid!==t.payload}))});case E.SET_ONE_C_ID:var a=e.rowsInWork.findIndex((function(e){return e.uuid===t.payload}));return e.rowsInWork[a].oneCId=t.oneCId,Object(m.a)(Object(m.a)({},e),{},{rowsInWork:Object(Ce.a)(e.rowsInWork)});case E.TOGGLE_DONE:var n=e.rowsInWork.findIndex((function(e){return e.uuid===t.payload.uuid}));return e.rowsInWork[n].isDone=t.isDone,Object(m.a)(Object(m.a)({},e),{},{rowsInWork:Object(Ce.a)(e.rowsInWork)});case E.FETCH_DATA_A77:return Object(m.a)({},e);case E.SET_ERROR_MESSAGE:return Object(m.a)(Object(m.a)({},e),{},{errorMessage:t.payload});case E.TOGGLE_SNACKBAR:return Object(m.a)(Object(m.a)({},e),{},{openSnakbar:t.payload});case E.UPDATE_ROWS_ATTRS:return Object(m.a)(Object(m.a)({},e),{},{rowsInWork:t.payload});case E.UPDATE_ROWS_READY_ATTRS:return Object(m.a)(Object(m.a)({},e),{},{rowsReady:t.payload});case E.IS_LOADING:return Object(m.a)(Object(m.a)({},e),{},{isLoading:t.payload});case E.CHANGE_DESCRIPTION:var r=e.rowsInWork.findIndex((function(e){return e.uuid===t.payload}));return e.rowsInWork[r].description=t.description,Object(m.a)(Object(m.a)({},e),{},{rowsInWork:Object(Ce.a)(e.rowsInWork)});case E.PUT_ROW_TO_SERVER:var c=e.rowsInWork.findIndex((function(e){return e.uuid===t.payload.uuid}));return e.rowsInWork[c]=t.payload,Object(m.a)(Object(m.a)({},e),{},{rowsInWork:Object(Ce.a)(e.rowsInWork)});default:return e}}}),Ge=Object(Ae.createStore)(Ue,Object(We.composeWithDevTools)(Object(Ae.applyMiddleware)(Ne.a)));s.a.render(Object(n.jsx)(c.a.StrictMode,{children:Object(n.jsx)(g.a,{store:Ge,children:Object(n.jsx)(Ie,{})})}),document.getElementById("root")),ke()}},[[153,1,2]]]);
//# sourceMappingURL=main.368728e9.chunk.js.map